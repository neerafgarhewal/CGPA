<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IIT Ropar CGPA Calculator</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="user-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Welcome to CGPA Calculator</h2>
          <p>Please enter your details to get started</p>
        </div>
        <form id="user-form">
          <div class="form-field">
            <label for="fullName">Full Name</label>
            <input type="text" id="fullName" name="fullName" required placeholder="Enter your full name" />
          </div>
          <div class="form-field">
            <label for="branch">Branch</label>
            <select id="branch" name="branch" required>
              <option value="">Select your branch</option>
           
              
              <option value="ME">Mechanical Engineering</option>
              <option value="CE">Civil Engineering</option>
             <option value="ICDT">Integrated Circuit and design technology </option>
              <option value="CH">Chemical Engineering</option>
              <option value="EE">Electrical Engineering</option>
              <option value="EP">Engineering Physics</option>
            </select>
          </div>
          <button type="submit" class="modal-button">Continue</button>
        </form>
      </div>
    </div>

    <div class="app-shell">
      <header class="header">
        <div class="brand">
          <div class="brand-logo">IR</div>
          <div class="brand-text">
            <h1>IIT Ropar CGPA Calculator</h1>
            <p>Monsoon Semester · Interactive grade &amp; CGPA estimator</p>
          </div>
        </div>
      </header>

      <div class="layout">
        <div class="card" id="inputs-card">
          <div class="card-header">
            <div>
              <div class="card-title">Enter your marks</div>
              <div class="card-subtitle">Courses as per typical IIT Ropar first-year structure</div>
            </div>
          </div>

          <form id="cgpa-form">
            <div class="form-grid">
              <section class="section-card">
                <div class="section-header">
                  <div>
                    <div class="section-title">MA101 · Mathematics</div>
                    <div class="section-meta">3 credits · Internal + End sem</div>
                  </div>
                </div>
                <div class="fields-grid">
                  <div class="field">
                    <label>Quiz 1</label>
                    <input type="number" step="0.01" name="ma_q1" />
                  </div>
                  <div class="field">
                    <label>Mid-sem</label>
                    <input type="number" step="0.01" name="ma_mid" />
                  </div>
                  <div class="field">
                    <label>Quiz 2</label>
                    <input type="number" step="0.01" name="ma_q2" />
                  </div>
                  <div class="field">
                    <label>End-sem</label>
                    <input type="number" step="0.01" name="ma_end" />
                  </div>
                  <div class="field">
                    <label>Tutorial</label>
                    <input type="number" step="0.01" name="ma_tutorial" />
                  </div>
                  <div class="field">
                    <label>Bonus</label>
                    <input type="number" step="0.01" name="ma_bonus" />
                  </div>
                </div>
              </section>

              <section class="section-card">
                <div class="section-header">
                  <div>
                    <div class="section-title">PH101 · Physics for Engineering</div>
                    <div class="section-meta">3 credits · Theory</div>
                  </div>
                </div>
                <div class="fields-grid">
                  <div class="field">
                    <label>Quiz 1</label>
                    <input type="number" step="0.01" name="ph_q1" />
                  </div>
                  <div class="field">
                    <label>Mid-sem</label>
                    <input type="number" step="0.01" name="ph_mid" />
                  </div>
                  <div class="field">
                    <label>Quiz 2</label>
                    <input type="number" step="0.01" name="ph_q2" />
                  </div>
                  <div class="field">
                    <label>End-sem</label>
                    <input type="number" step="0.01" name="ph_end" />
                  </div>
                  <div class="field">
                    <label>Attendance</label>
                    <input type="number" step="0.01" name="ph_att" />
                  </div>
                </div>
              </section>

              <section class="section-card">
                <div class="section-header">
                  <div>
                    <div class="section-title">PH102 · Lab</div>
                    <div class="section-meta">2 credits · Enter grade point</div>
                  </div>
                </div>
                <div class="fields-grid">
                  <div class="field">
                    <label>Grade point</label>
                    <input type="number" step="0.01" name="ph102_grade" />
                  </div>
                </div>

                <div class="section-header" style="margin-top: 10px">
                  <div>
                    <div class="section-title">GE102 · Mechanical Workshop</div>
                    <div class="section-meta">2 credits · Enter grade point</div>
                  </div>
                </div>
                <div class="fields-grid">
                  <div class="field">
                    <label>Grade point</label>
                    <input type="number" step="0.01" name="ge102_grade" />
                  </div>
                </div>
              </section>

              <section class="section-card">
                <div class="section-header">
                  <div>
                    <div class="section-title">GE104 · Electrical Engineering</div>
                    <div class="section-meta">3 credits · Weighted components</div>
                  </div>
                </div>
                <div class="fields-grid">
                  <div class="field">
                    <label>Quiz 1 (out of 30)</label>
                    <input type="number" step="0.01" name="ge_q1" />
                  </div>
                  <div class="field">
                    <label>Mid-sem (out of 45)</label>
                    <input type="number" step="0.01" name="ge_mid" />
                  </div>
                  <div class="field">
                    <label>Quiz 2 (out of 100)</label>
                    <input type="number" step="0.01" name="ge_q2" />
                  </div>
                  <div class="field">
                    <label>End-sem (out of 90)</label>
                    <input type="number" step="0.01" name="ge_end" />
                  </div>
                  <div class="field">
                    <label>Lab marks</label>
                    <input type="number" step="0.01" name="ge_lab" />
                  </div>
                </div>
              </section>

              <section class="section-card">
                <div class="section-header">
                  <div>
                    <div class="section-title">English · HS102 / HS103</div>
                    <div class="section-meta">3 credits · Select your course</div>
                  </div>
                  <div class="field" style="max-width: 140px">
                    <label>Course</label>
                    <select name="hum_type">
                      <option value="HS102">HS102</option>
                      <option value="HS103">HS103</option>
                    </select>
                  </div>
                </div>

                <div class="fields-grid" id="hs102-fields">
                  <div class="field">
                    <label>Quiz 1</label>
                    <input type="number" step="0.01" name="hs_q1" />
                  </div>
                  <div class="field">
                    <label>Mid-sem</label>
                    <input type="number" step="0.01" name="hs_mid" />
                  </div>
                  <div class="field">
                    <label>Quiz 2</label>
                    <input type="number" step="0.01" name="hs_q2" />
                  </div>
                  <div class="field">
                    <label>End-sem</label>
                    <input type="number" step="0.01" name="hs_end" />
                  </div>
                </div>

                <div class="fields-grid" id="hs103-fields" style="display: none">
                  <div class="field">
                    <label>Mid-sem</label>
                    <input type="number" step="0.01" name="hs103_mid" />
                  </div>
                  <div class="field">
                    <label>End-sem</label>
                    <input type="number" step="0.01" name="hs103_end" />
                  </div>
                  <div class="field">
                    <label>TA number</label>
                    <input type="number" step="0.01" name="hs103_ta" />
                  </div>
                </div>
              </section>

              <section class="section-card">
                <div class="section-header">
                  <div>
                    <div class="section-title">NSO/NSS · Activity</div>
                    <div class="section-meta">1 credit · Grade point</div>
                  </div>
                </div>
                <div class="fields-grid">
                  <div class="field">
                    <label>NSO grade point</label>
                    <input type="number" step="0.01" name="nso_grade" />
                  </div>
                </div>

                <div class="section-header" style="margin-top: 10px">
                  <div>
                    <div class="section-title">HS101 · History of Technology</div>
                    <div class="section-meta">1.5 credits · Mid + End + Attendance</div>
                  </div>
                </div>
                <div class="fields-grid">
                  <div class="field">
                    <label>Mid-Sem</label>
                    <input type="number" step="0.01" name="hs101_mini" />
                  </div>
                  <div class="field">
                    <label>End-sem</label>
                    <input type="number" step="0.01" name="hs101_end" />
                  </div>
                  <div class="field">
                    <label>Attendance(5 marks)</label>
                    <input type="number" step="0.01" name="hs101_att" />
                  </div>
                </div>
              </section>
            </div>

            <div class="actions">
              <button type="button" class="button-secondary" id="clear-btn">Clear all</button>
              <button type="submit" class="button-primary" id="calc-btn">Calculate CGPA</button>
            </div>

            <div class="error-banner" id="error-banner" style="display: none"></div>
          </form>
        </div>

        <div class="card">
          <div class="card-header">
            <div>
              <div class="card-title">Summary &amp; grade breakdown</div>
              <div class="card-subtitle">Per-course grade points and overall CGPA</div>
            </div>
          </div>

          <div class="summary-main">
            <div class="summary-top">
              <div class="glass-panel">
                <div class="cgpa-label">Computed CGPA</div>
                <div class="cgpa-value" id="cgpa-value">--</div>
                <div class="cgpa-meta">
                  <span class="kpi-label">Total credits:</span>
                  <span class="kpi-value" id="total-credits">--</span>
                  <br />
                  <span class="kpi-label">Total grade points:</span>
                  <span class="kpi-value" id="total-gp">--</span>
                </div>
                <div class="chip-row">
                  <div class="chip">MA101 · PH101 · GE104 · HS101</div>
                  <div class="chip">Labs, NSO &amp; English included</div>
                </div>
              </div>
            </div>

            <div class="glass-panel">
              <div class="kpi-label" style="margin-bottom: 6px">Course-wise grade points</div>
              <div class="table-wrapper">
                <table class="table" id="courses-table">
                  <thead>
                    <tr>
                      <th>Course</th>
                      <th style="text-align: center;">Credits</th>
                      <th>Total marks</th>
                      <th>Grade point</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr id="courses-empty-row">
                      <td colspan="4" style="text-align: center; color: #6b7280">
                        Fill in marks and click "Calculate" to see breakdown.
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="glass-panel">
              <div class="kpi-label" style="margin-bottom: 6px">Visual analysis</div>
              <div style="font-size: 0.72rem; color: #9ca3af; margin-bottom: 6px;">
                Bar chart of grade points for each course based on your latest calculation.
              </div>
              <div style="height: 220px;">
                <canvas id="grades-chart"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>

      <section class="card criteria-card">
        <div class="card-header">
          <div>
            <div class="card-title">Grading criteria</div>
            <div class="card-subtitle">How marks convert to grade points in this calculator</div>
          </div>
        </div>
        <p class="criteria-important">
          Important: These grade thresholds are approximate and are based on last year's course data. Actual criteria may
          change from year to year and between instructors.
        </p>
        <div class="criteria-grid">
          <div>
            <div class="criteria-block-title">MA101 · Mathematics (3 credits)</div>
            <table class="criteria-table">
              <thead>
                <tr>
                  <th>Total marks ≥</th>
                  <th>Grade point</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>75</td><td>10</td></tr>
                <tr><td>70</td><td>9</td></tr>
                <tr><td>65</td><td>8</td></tr>
                <tr><td>59</td><td>7</td></tr>
                <tr><td>54</td><td>6</td></tr>
                <tr><td>49</td><td>5</td></tr>
                <tr><td>44</td><td>4</td></tr>
                <tr><td>below 30</td><td>0</td></tr>
              </tbody>
            </table>
          </div>

          <div>
            <div class="criteria-block-title">PH101 · Physics for Engineering (3 credits)</div>
            <table class="criteria-table">
              <thead>
                <tr>
                  <th>Total marks ≥</th>
                  <th>Grade point</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>85</td><td>10</td></tr>
                <tr><td>75</td><td>9</td></tr>
                <tr><td>65</td><td>8</td></tr>
                <tr><td>60</td><td>7</td></tr>
                <tr><td>55</td><td>6</td></tr>
                <tr><td>50</td><td>5</td></tr>
                <tr><td>45</td><td>4</td></tr>
                <tr><td>below 30</td><td>0</td></tr>
              </tbody>
            </table>
          </div>

          <div>
            <div class="criteria-block-title">GE104 · Electrical Engineering (3 credits)</div>
            <table class="criteria-table">
              <thead>
                <tr>
                  <th>Weighted total ≥</th>
                  <th>Grade point</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>120</td><td>10</td></tr>
                <tr><td>115</td><td>9</td></tr>
                <tr><td>100</td><td>8</td></tr>
                <tr><td>80</td><td>7</td></tr>
                <tr><td>70</td><td>6</td></tr>
                <tr><td>60</td><td>5</td></tr>
                <tr><td>50</td><td>4</td></tr>
                <tr><td>below 45</td><td>0</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="criteria-grid">
          <div>
            <div class="criteria-block-title">HS102 - English (3 credits)</div>
            <table class="criteria-table">
              <thead>
                <tr>
                  <th>Total marks ≥</th>
                  <th>Grade point</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>80</td><td>10</td></tr>
                <tr><td>75</td><td>9</td></tr>
                <tr><td>70</td><td>8</td></tr>
                <tr><td>60</td><td>7</td></tr>
                <tr><td>55</td><td>6</td></tr>
                <tr><td>50</td><td>5</td></tr>
                <tr><td>45</td><td>4</td></tr>
                <tr><td>below 30</td><td>0</td></tr>
              </tbody>
            </table>
          </div>

          <div>
            <div class="criteria-block-title">HS103 - English (3 credits)</div>
            <table class="criteria-table">
              <thead>
                <tr>
                  <th>Total marks ≥</th>
                  <th>Grade point</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>82</td><td>10</td></tr>
                <tr><td>70</td><td>9</td></tr>
                <tr><td>65</td><td>8</td></tr>
                <tr><td>60</td><td>7</td></tr>
                <tr><td>55</td><td>6</td></tr>
                <tr><td>50</td><td>5</td></tr>
                <tr><td>45</td><td>4</td></tr>
                <tr><td>below 30</td><td>0</td></tr>
              </tbody>
            </table>
          </div>

          <div>
            <div class="criteria-block-title">HS101 - History of Technology (1.5 credits)</div>
            <table class="criteria-table">
              <thead>
                <tr>
                  <th>Total marks ≥</th>
                  <th>Grade point</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>80</td><td>10</td></tr>
                <tr><td>70</td><td>9</td></tr>
                <tr><td>60</td><td>8</td></tr>
                <tr><td>55</td><td>7</td></tr>
                <tr><td>50</td><td>6</td></tr>
                <tr><td>45</td><td>5</td></tr>
                <tr><td>40</td><td>4</td></tr>
                <tr><td>below 30</td><td>0</td></tr>
              </tbody>
            </table>
          </div>
        </div>
        <p class="criteria-note">
          For PH102, GE102 and NSO/NSS this app uses the <strong>grade point you enter directly</strong> (e.g. 10, 9, 8) instead of
          computing it from internal marks.
        </p>
      </section>

      <footer class="credits-footer">
        <div class="credits-footer-inner">
          <h2 class="credits-heading">Project credits</h2>
          <div class="credits-grid">
            <div class="credits-card">
              <div class="credits-role">Web development &amp; deployment</div>
              <div class="credits-name">Neeraf Garhewal</div>
              <div class="credits-roll">(2025CHB1130)</div>
            </div>
            <div class="credits-card">
              <div class="credits-role">Core application code</div>
              <div class="credits-name">Bhavesh</div>
              <div class="credits-roll">(2025CSB1173)</div>
            </div>
            <div class="credits-card">
              <div class="credits-role">CGPA calculation logic</div>
              <div class="credits-name">Vedansh Joshi</div>
              <div class="credits-roll">(2025CEB1113)</div>
            </div>
            <div class="credits-card">
              <div class="credits-role">Research &amp; testing</div>
              <div class="credits-name">Divyam</div>
              <div class="credits-roll">(2025EEB1322)</div>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="main.js"></script>
  </body>
</html>
